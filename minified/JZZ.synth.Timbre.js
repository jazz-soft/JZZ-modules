!function(){if(JZZ){JZZ.synth||(JZZ.synth={});var i={},e={},t=r()?T.version:void 0;e._info=function(n){return{type:"Timbre.js",name:o(n),manufacturer:"virtual",version:t}},e._openOut=function(n,t){r()?i[t]?u(i[t]._T)?(i[t]||(i[t]=new f),n._info=e._info(t),n._receive=function(n){i[t]._receive(n)},n._resume()):n._crash("Not a valid synth"):n._crash("Port "+t+" not found"):n._crash("Timbre.js is not loaded")},JZZ.synth.Timbre=function(){var n,t;return t=1==arguments.length?arguments[0]:(n=arguments[0],arguments[1]),n=o(n),i[n]||(i[n]=new f(n,t)),JZZ.lib.openMidiOut(n,e)},JZZ.synth.Timbre.register=function(){var n,t;return t=1==arguments.length?arguments[0]:(n=arguments[0],arguments[1]),n=o(n),!(!r()||!u(t))&&(i[n]||(i[n]=new f(n,t)),JZZ.lib.registerMidiOut(n,e))}}function o(n){return n||"JZZ.synth.Timbre"}function r(){return"undefined"!=typeof T&&T.version}function f(n,t){this._T=t,this.info=e._info(n),this.name=this.info.name,this._receive=s}function s(n){var t=n[0],i=n[1],e=n[2];t<0||255<t||(9==(t>>=4)?e?this._T.noteOn(i,e):this._T.noteOff(i):8==t?this._T.noteOff(i):11==t&&(123==i?this._T.allNoteOff():120==i&&this._T.allSoundOff()))}function u(n){return n&&n.noteOn instanceof Function&&n.noteOff instanceof Function}}();