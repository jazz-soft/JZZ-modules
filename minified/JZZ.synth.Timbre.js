!function(){function a(a){return a?a:"JZZ.synth.Timbre"}function b(){return"undefined"!=typeof T&&T.version}function c(a,b){this._T=b,this.info=g._info(a),this.name=this.info.name,this._send=d}function d(a){var b=a[0],c=a[1],d=a[2];0>b||b>255||(b>>=4,9==b?d?this._T.noteOn(c,d):this._T.noteOff(c):8==b?this._T.noteOff(c):11==b&&(123==c?this._T.allNoteOff():120==c&&this._T.allSoundOff()))}function e(a){return a&&a.noteOn instanceof Function&&a.noteOff instanceof Function}if(JZZ){JZZ.synth||(JZZ.synth={});var f={},g={},h=b()?T.version:void 0;g._info=function(b){return{type:"Timbre.js",name:a(b),manufacturer:"virtual",version:h}},g._openOut=function(a,d){return b()?f[d]?e(f[d]._T)?(f[d]||(f[d]=new c),a._info=g._info(d),a._send=function(a){f[d]._send(a)},void a._resume()):void a._crash("Not a valid synth"):void a._crash("Port "+d+" not found"):void a._crash("Timbre.js is not loaded")},JZZ.synth.Timbre=function(){var b,d;return 1==arguments.length?d=arguments[0]:(b=arguments[0],d=arguments[1]),b=a(b),f[b]||(f[b]=new c(b,d)),JZZ.lib.openMidiOut(b,g)},JZZ.synth.Timbre.register=function(){var d,h;return 1==arguments.length?h=arguments[0]:(d=arguments[0],h=arguments[1]),d=a(d),b()&&e(h)?(f[d]||(f[d]=new c(d,h)),JZZ.lib.registerMidiOut(d,g)):!1}}}();