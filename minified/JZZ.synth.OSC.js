!function(){function a(){this.channels=[],this.channel=function(a){return this.channels[a]||(this.channels[a]=new b),this.channels[a]},this.play=function(a){var b=a[0],c=a[1],d=a[2];if(!(0>b||b>255)){var e=15&b,f=b>>4;9==f&&this.channel(e).play(c,d),8==f&&this.channel(e).play(c,0)}}}function b(){this.notes=[],this.note=function(a){return this.notes[a]||(this.notes[a]=new c(a,this)),this.notes[a]},this.play=function(a,b){this.note(a).play(b)}}function c(a,b){this.note=a,this.channel=b,this.freq=440*Math.pow(2,(a-69)/12),this.play=function(a){if(this.oscillator&&this.oscillator.stop(),a){var b=127/a;this.oscillator=d.createOscillator(),this.oscillator.type="sawtooth",this.oscillator.frequency.value=this.freq,this.gain=d.createGain();var c=2,e=d.currentTime;this.gain.gain.setValueAtTime(b,e),this.gain.gain.exponentialRampToValueAtTime(.01*b,e+c),this.oscillator.connect(this.gain),this.gain.connect(d.destination),this.oscillator.start()}}}if(JZZ){JZZ.synth||(JZZ.synth={});var d,e=window.AudioContext||window.webkitAudioContext;e&&(d=new e);var f={},g={};g._info=function(a){return a||(a="JZZ.synth.OSC"),{type:"Web Audo",name:a,manufacturer:"virtual",version:"0.0"}},g._openOut=function(b,c){return d?(f[c]||(f[c]={name:c,info:g._info(c),_synth:new a,_send:function(a){this._synth.play(a)}}),b._impl=f[c],void b._resume()):void b._crash("AudioContext not supported")},JZZ.synth.OSC=function(a){return JZZ._openMidiOut(a,g)},JZZ.synth.OSC.register=function(a){return d?JZZ._registerMidiOut(a,g):!1}}}();