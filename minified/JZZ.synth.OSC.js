!function(){function a(){this.channels=[],this.channel=function(a){return this.channels[a]||(this.channels[a]=new b),this.channels[a]},this.play=function(a){var b=a[0],c=a[1],d=a[2];if(!(b<0||b>255)){var e=15&b,f=b>>4;9==f&&this.channel(e).play(c,d),8==f&&this.channel(e).play(c,0)}}}function b(){this.notes=[],this.note=function(a){return this.notes[a]||(this.notes[a]=new c(a,this)),this.notes[a]},this.play=function(a,b){this.note(a).play(b)}}function c(a,b){this.note=a,this.channel=b,this.freq=440*Math.pow(2,(a-69)/12),this.play=function(a){try{this.oscillator&&this.oscillator.stop(0)}catch(b){}if(a){var c=a/127;this.oscillator=d.createOscillator(),this.oscillator.type="sawtooth",this.oscillator.frequency.value=this.freq,this.oscillator.start||(this.oscillator.start=this.oscillator.noteOn),this.oscillator.stop||(this.oscillator.stop=this.oscillator.noteOff),this.gain=d.createGain();var e=2,f=d.currentTime;this.gain.gain.setValueAtTime(c,f),this.gain.gain.exponentialRampToValueAtTime(.01*c,f+e),this.oscillator.connect(this.gain),this.gain.connect(d.destination),this.oscillator.start(0)}}}if(JZZ){JZZ.synth||(JZZ.synth={});var d,e=window.AudioContext||window.webkitAudioContext;e&&(d=new e),d&&!d.createGain&&(d.createGain=d.createGainNode);var f={},g={};g._info=function(a){return a||(a="JZZ.synth.OSC"),{type:"Web Audo",name:a,manufacturer:"virtual",version:"0.2"}},g._openOut=function(b,c){return d?(f[c]||(f[c]=new a),b._info=g._info(c),b._receive=function(a){f[c].play(a)},void b._resume()):void b._crash("AudioContext not supported")},JZZ.synth.OSC=function(a){return JZZ.lib.openMidiOut(a,g)},JZZ.synth.OSC.register=function(a){return!!d&&JZZ.lib.registerMidiOut(a,g)}}}();