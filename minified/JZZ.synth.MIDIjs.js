!function(){if(JZZ){JZZ.synth||(JZZ.synth={});var e,i=!1,u=!1,o=!1,s=[],f={_info:function(n){return{type:"MIDI.js",name:t(n),manufacturer:"virtual",version:"0.3.2"}},_openOut:function(n,r){if(u)c(n,r);else if(o)n._crash(e);else if(n._pause(),s.push([n,r]),!i){i=!0;var t=f._arg;t||(t={}),t.onsuccess=Z,t.onerror=I;try{MIDI.loadPlugin(t)}catch(n){I(e=n.message)}}}};JZZ.synth.MIDIjs=function(){var n,r;return r=1==arguments.length?arguments[0]:(n=arguments[0],arguments[1]),n=t(n),u||i||(f._arg=r),JZZ.lib.openMidiOut(n,f)},JZZ.synth.MIDIjs.register=function(){var n,r;return r=1==arguments.length?arguments[0]:(n=arguments[0],arguments[1]),n=t(n),u||i||(f._arg=r),JZZ.lib.registerMidiOut(n,f)}}function t(n){return n||"JZZ.synth.MIDIjs"}function a(n){var r=n[0]>>4,t=15&n[0];8==r?MIDI.noteOff(t,n[1]):9==r&&MIDI.noteOn(t,n[1],n[2])}function c(n,r){n._info=f._info(r),n._receive=a,n._resume()}function Z(){i=!(u=!0);for(var n=0;n<s.length;n++)c(s[n][0],s[n][1])}function I(n){o=!0,e=n;for(var r=0;r<s.length;r++)s[r][0]._crash(e)}}();