!function(){var t,e,i,u,o,s;function f(n){return n||"JZZ.synth.MIDIjs"}function a(n){var r=n[0]>>4,t=15&n[0];8==r?MIDI.noteOff(t,n[1]):9==r&&MIDI.noteOn(t,n[1],n[2])}function c(n,r){n._info=s._info(r),n._receive=a,n._resume()}function Z(){t=!(e=!0);for(var n=0;n<o.length;n++)c(o[n][0],o[n][1])}function I(n){i=!0,u=n;for(var r=0;r<o.length;r++)o[r][0]._crash(u)}JZZ&&(JZZ.synth||(JZZ.synth={}),i=e=t=!1,o=[],s={_info:function(n){return{type:"MIDI.js",name:f(n),manufacturer:"virtual",version:"0.3.2"}},_openOut:function(n,r){if(e)c(n,r);else if(i)n._crash(u);else if(n._pause(),o.push([n,r]),!t){t=!0;n=s._arg;(n=n||{}).onsuccess=Z,n.onerror=I;try{MIDI.loadPlugin(n)}catch(n){I(u=n.message)}}}},JZZ.synth.MIDIjs=function(){var n=1==arguments.length?arguments[0]:(r=arguments[0],arguments[1]),r=f(r);return e||t||(s._arg=n),JZZ.lib.openMidiOut(r,s)},JZZ.synth.MIDIjs.register=function(){var n=1==arguments.length?arguments[0]:(r=arguments[0],arguments[1]),r=f(r);return e||t||(s._arg=n),JZZ.lib.registerMidiOut(r,s)})}();