!function(){function a(a){return a?a:"ASCII"}function b(a){this.notes={},this.playing=[],"undefined"==typeof a&&(a={}),this.chan=f[a.chan],"undefined"==typeof this.chan&&(this.chan=0);for(var b in a){var c=e[b],d=JZZ.MIDI.noteValue(a[b]);"undefined"!=typeof c&&"undefined"!=typeof d&&(this.notes[c]=d)}var g=this;this.keydown=function(a){var b=g.notes[a.keyCode];"undefined"!=typeof b&&(a.preventDefault(),g.playing[b]||(g.playing[b]=!0,g.noteOn(b)))},this.keyup=function(a){var b=g.notes[a.keyCode];"undefined"!=typeof b&&(a.preventDefault(),g.playing[b]&&(g.playing[b]=void 0,g.noteOff(b)))},"string"==typeof a.at&&(this.at=document.getElementById(a.at));try{this.at.addEventListener("keydown",this.keydown),this.at.addEventListener("keyup",this.keyup),(!this.at.tabIndex||this.at.tabIndex<0)&&(this.at.tabIndex=0)}catch(h){document.addEventListener("keydown",this.keydown),document.addEventListener("keyup",this.keyup),this.at=document}this._close=function(){this.at.removeEventListener("keydown",this.keydown),this.at.removeEventListener("keyup",this.keyup);for(var a in g.playing)g.noteOff(a)}}function c(){}if(JZZ){JZZ.input||(JZZ.input={});for(var d="1.0",e={" ":32,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,"+":61,"=":61,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,_:173,"-":173,"[":219,"{":219,"]":221,"}":221,"|":220,"\\":220,"`":192,"~":192,";":59,":":59,"'":222,'"':222,",":188,"<":188,".":190,">":190,"/":191,"?":191},f={a:10,b:11,c:12,d:13,e:14,f:15,A:10,B:11,C:12,D:13,E:14,F:15},g=0;16>g;g++)f[g]=g;c.prototype._info=function(b){return{type:"html/javascript",name:a(b),manufacturer:"virtual",version:d}},c.prototype._openIn=function(a,c){var d=new b(this._arg);d.noteOn=function(b){a._emit(JZZ.MIDI(144+this.chan,b,127))},d.noteOff=function(b){a._emit(JZZ.MIDI(128+this.chan,b,127))},a._info=this._info(c),a._close=function(){d._close()},a._resume()},JZZ.input.ASCII=function(){var a,b;1==arguments.length?"string"==typeof arguments[0]?a=arguments[0]:b=arguments[0]:(a=arguments[0],b=arguments[1]);var d=new c;return d._arg=b,JZZ.lib.openMidiIn(a,d)},JZZ.input.ASCII.register=function(){var a,b;1==arguments.length?"string"==typeof arguments[0]?a=arguments[0]:b=arguments[0]:(a=arguments[0],b=arguments[1]);var d=new c;return d._arg=b,JZZ.lib.registerMidiIn(a,d)}}}();